# VRCSpeechToOSC

音声認識でVRChatにOSCメッセージを送信するやつ

## 動作環境

- Windows10/11

## 開発環境

- .NET 8 SDK
- Visual Studio 2022


## 使い方

起動時にエラーが出るときはここ( https://dotnet.microsoft.com/ja-jp/download/dotnet/thank-you/runtime-desktop-8.0.20-windows-x64-installer )からランタイムをインストールすべし

### 起動

1. VRChatを起動する
2. VRChatの設定でOSCを有効にしておく
3. VRCCameraRemote.exe を起動する
4. [init] Speech recognizer initialize completed! と表示されるまで待つ

### 終了

プロンプトを×で閉じるか、Ctrl+Cで終了する

### 設定ファイルのリロード

起動中のプロンプト上で"R"キーを押す（OSCの送信先ポートなど一部の設定はリロードしても反映されません）

* 音声コマンドを確認・変更したいときは config.yml をテキストエディタで編集すべし



## 故障かな？と思ったら

```
Q. 音声認識がうまくいかない/過剰に反応するんだけど改善できない？
A. System.Speech というMicrosoft製のライブラリを使っています。  
   技術的にはWindowsOSに搭載されている機能を呼び出しているだけなので、認識の精度をどうにかすることはできません。  
   * ひらがな/カタカナ/ローマ字/英語で音声コマンドを書く
   * 短すぎる/長すぎるコマンドを書かない
   * 発音のバリエーションを用意しておく(例えば ["フライングカメラ", "フラインカメラ", "フライカメラ"] と指定すると、きっちり発音しなかった場合も拾ってくれる場合があります)
   といった対策を試してみてください。

Q. コマンドは送れているけど、うまくいかない/変な動作をする
A. VRChat側の仕様である可能性が高いです。
   現時点(2025/10/05)で以下の仕様がわかっています。
   * カメラを表示していない状態で、/usercamera/Mode において"0"以外の値を指定したとしてもカメラは表示されない
   * カメラが表示されていないときに/usercamera/Capture(撮影), /usercamera/CaptureDelayed(タイマー) を実行すると、次にカメラを表示したタイミングで撮影/タイマーが実行される

Q. 機能要望/改善要望がしたい, バグを見つけたので直してほしい
A. 試しに作ってみただけのオモチャなので、現時点ではそういった要望は受け付けていません。
```
